(function(l,g){"object"===typeof exports&&"object"===typeof module?module.exports=g(require("coveo-search-ui")):"function"===typeof define&&define.amd?define(["coveo-search-ui"],g):"object"===typeof exports?exports.CoveoEnhancedPipelineContext=g(require("coveo-search-ui")):l.CoveoEnhancedPipelineContext=g(l.Coveo)})(window,function(l){return function(g){function f(d){if(h[d])return h[d].exports;var b=h[d]={i:d,l:!1,exports:{}};g[d].call(b.exports,b,b.exports,f);b.l=!0;return b.exports}var h={};f.m=
g;f.c=h;f.d=function(d,b,a){f.o(d,b)||Object.defineProperty(d,b,{enumerable:!0,get:a})};f.r=function(d){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"});Object.defineProperty(d,"__esModule",{value:!0})};f.t=function(d,b){b&1&&(d=f(d));if(b&8||b&4&&"object"===typeof d&&d&&d.__esModule)return d;var a=Object.create(null);f.r(a);Object.defineProperty(a,"default",{enumerable:!0,value:d});if(b&2&&"string"!=typeof d)for(var n in d)f.d(a,n,function(c){return d[c]}.bind(null,
n));return a};f.n=function(d){var b=d&&d.__esModule?function(){return d["default"]}:function(){return d};f.d(b,"a",b);return b};f.o=function(d,b){return Object.prototype.hasOwnProperty.call(d,b)};f.p="";return f(f.s=2)}([function(g,f){g.exports=l},function(g,f,h){(function(d,b){g.exports=b(h(0))})(window,function(d){return function(b){function a(c){if(d[c])return d[c].exports;var e=d[c]={i:c,l:!1,exports:{}};b[c].call(e.exports,e,e.exports,a);e.l=!0;return e.exports}var d={};a.m=b;a.c=d;a.d=function(c,
e,m){a.o(c,e)||Object.defineProperty(c,e,{enumerable:!0,get:m})};a.r=function(c){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});Object.defineProperty(c,"__esModule",{value:!0})};a.t=function(c,e){e&1&&(c=a(c));if(e&8||e&4&&"object"===typeof c&&c&&c.__esModule)return c;var m=Object.create(null);a.r(m);Object.defineProperty(m,"default",{enumerable:!0,value:c});if(e&2&&"string"!=typeof c)for(var k in c)a.d(m,k,function(e){return c[e]}.bind(null,
k));return m};a.n=function(c){var e=c&&c.__esModule?function(){return c["default"]}:function(){return c};a.d(e,"a",e);return e};a.o=function(c,e){return Object.prototype.hasOwnProperty.call(c,e)};a.p="";return a(a.s=2)}([function(b,a,d){Object.defineProperty(a,"__esModule",{value:!0});a.component=void 0;var c=d(1);a.component=function(e){c.Initialization.registerAutoCreateComponent(e);return e}},function(b,a){b.exports=d},function(b,a,d){b.exports=d(3)},function(b,a,d){var c=this&&this.__createBinding||
(Object.create?function(e,c,k,a){void 0===a&&(a=k);Object.defineProperty(e,a,{enumerable:!0,get:function(){return c[k]}})}:function(e,c,a,b){void 0===b&&(b=a);e[b]=c[a]});b=this&&this.__exportStar||function(e,a){for(var k in e)"default"===k||a.hasOwnProperty(k)||c(a,e,k)};Object.defineProperty(a,"__esModule",{value:!0});b(d(4),a);b(d(6),a)},function(b,a,d){var c=this&&this.__createBinding||(Object.create?function(e,c,a,b){void 0===b&&(b=a);Object.defineProperty(e,b,{enumerable:!0,get:function(){return c[a]}})}:
function(e,c,a,b){void 0===b&&(b=a);e[b]=c[a]});b=this&&this.__exportStar||function(e,a){for(var b in e)"default"===b||a.hasOwnProperty(b)||c(a,e,b)};Object.defineProperty(a,"__esModule",{value:!0});b(d(0),a);b(d(5),a)},function(b,a,d){Object.defineProperty(a,"__esModule",{value:!0});a.lazyComponent=a.lazyDependentComponent=void 0;var c=d(1),e=d(0);a.lazyDependentComponent=function(a){return function(b){if(!c.LazyInitialization)return e.component(b);c.LazyInitialization.registerLazyComponent(b.ID,
function(){return c.load(a).then(function(){return e.component(b)})});return b}};a.lazyComponent=function(a){if(!c.LazyInitialization)return e.component(a);c.LazyInitialization.registerLazyComponent(a.ID,e.component(a));return a}},function(b,a,d){var c=this&&this.__createBinding||(Object.create?function(a,c,b,d){void 0===d&&(d=b);Object.defineProperty(a,d,{enumerable:!0,get:function(){return c[b]}})}:function(a,c,b,d){void 0===d&&(d=b);a[d]=c[b]});b=this&&this.__exportStar||function(a,b){for(var e in a)"default"===
e||b.hasOwnProperty(e)||c(b,a,e)};Object.defineProperty(a,"__esModule",{value:!0});b(d(7),a)},function(b,a,d){var c=this&&this.__assign||function(){c=Object.assign||function(a){for(var b,c=1,e=arguments.length;c<e;c++){b=arguments[c];for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d])}return a};return c.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0});a.swapVar=void 0;a.swapVar=function(a){window.Coveo=window.Coveo?c(c({},a),window.Coveo):a}}])})},function(g,
f,h){g.exports=h(3)},function(g,f,h){var d=this&&this.__createBinding||(Object.create?function(b,a,d,c){void 0===c&&(c=d);Object.defineProperty(b,c,{enumerable:!0,get:function(){return a[d]}})}:function(b,a,d,c){void 0===c&&(c=d);b[c]=a[d]});g=this&&this.__exportStar||function(b,a){for(var f in b)"default"===f||a.hasOwnProperty(f)||d(a,b,f)};Object.defineProperty(f,"__esModule",{value:!0});g(h(4),f);h(1).swapVar(this)},function(g,f,h){var d=this&&this.__extends||function(){var a=function(b,c){a=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return a(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),b=this&&this.__decorate||function(a,b,d,f){var c=arguments.length,e=3>c?b:null===f?f=Object.getOwnPropertyDescriptor(b,d):f,k;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)e=Reflect.decorate(a,b,d,f);else for(var g=
a.length-1;0<=g;g--)if(k=a[g])e=(3>c?k(e):3<c?k(b,d,e):k(b,d))||e;return 3<c&&e&&Object.defineProperty(b,d,e),e};Object.defineProperty(f,"__esModule",{value:!0});f.EnhancedPipelineContext=void 0;var a=h(0),l=h(1);g=function(c){function e(b,d,e){var g=c.call(this,b,f.ID,e)||this;g.element=b;g.options=d;g.bindings=e;g.options=a.ComponentOptions.initComponentOptions(b,f,d);g.bind.onRootElement(Coveo.InitializationEvents.afterComponentsInitialization,function(){return g.handleAfterComponentsInit()});
g.bind.onRootElement(Coveo.AnalyticsEvents.changeAnalyticsCustomData,function(a){return g.handleChangeAnalyticsCustomData(a)});return g}d(e,c);var f=e;e.prototype.handleAfterComponentsInit=function(){Coveo.get(this.root,"SearchInterface").getComponents("PipelineContext")[0].setContext(this.options.context)};e.prototype.handleChangeAnalyticsCustomData=function(a){if(this.options.setCustomDataOnClickEvent&&"ClickEvent"===a.type||this.options.setCustomDataOnCustomEvent&&"CustomEvent"===a.type)a.metaObject=
this.merge(a.metaObject,this.options.context)};e.prototype.merge=function(a,b){for(var c in b)a["context_"+c]=b[c];return a};e.ID="EnhancedPipelineContext";e.options={context:a.ComponentOptions.buildJsonOption(),setCustomDataOnClickEvent:Coveo.ComponentOptions.buildBooleanOption({defaultValue:!1}),setCustomDataOnCustomEvent:Coveo.ComponentOptions.buildBooleanOption({defaultValue:!1})};return e=f=b([l.lazyComponent],e)}(a.Component);f.EnhancedPipelineContext=g}])});